<link rel="stylesheet" href="{{ 'custom-grid.css' |  asset_url }}" type="text/css">

<section class="custom-grid_section">
    <div class="custom-grid">
        <div class="custom-grid_header">
            <h2>{{ section.settings.grid_header_txt }}</h2>
        </div>
        <div class="custom_product-grid">
            {% for product in collections.all.products limit:6 %}
                <div class="product-item">
                    {% if product.featured_image %}
                        <img 
                          src="{{ product.featured_image |  image_url  }}" 
                          alt="{{ product.title }}"
                          width="433"
                          height="444"
                        >
                    {% else %}
                        <img 
                          src="{{ 'placeholder.png' |  asset_url  }}" 
                          alt="Placeholder Image"
                          width="433"
                          height="444"
                        >
                    {% endif %}
                    <button 
                      class="view-product" 
                      data-product-handle="{{ product.handle }}"
                    >
                        +
                    </button>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Popup Modal for Product items -->
 <div id="product-modal" style="display: none;">
    <div class="modal-div">
        <span class="close">&times;</span>
        <div class="modal-content">
            <div class="modal-detail-container">
                <img src="{{ '' | image_url }}" alt="Product Image" width="120" height="140">
                <div class="modal-text">
                    <h3 id="modal-title"></h3>
                    <p id="popup-price"></p>
                    <p id="popup-description"></p>
                </div>
            </div>
            <label for="variant-color">Color</label>
            <select id="variant-color"></select>
            <label for="variant-size">Size</label>
            <select id="variant-size"></select>
            <button id="add-to-cart-btn">Add to Cart</button>
        </div>
    </div>
 </div>

{% schema %}
{
    "name": "Custom Grid",
    "settings": [
        {
            "type": "text",
            "id": "grid_header_txt",
            "label": "Product Grid Header"
        },
        {
            "type": "product",
            "id": "product_1",
            "label": "Select Product 1"
        },
        {
            "type": "product",
            "id": "product_2",
            "label": "Select Product 2"
        },    
        {
            "type": "product",
            "id": "product_3",
            "label": "Select Product 3"
        },
        {
            "type": "product",
            "id": "product_4",
            "label": "Select Product 4"
        },
        {
            "type": "product",
            "id": "product_5",
            "label": "Select Product 5"
        },
        {
            "type": "product",
            "id": "product_6",
            "label": "Select Product 6"
        }
    ],
    "presets": [
        {
            "name": "Product Grid"
        }
    ]
}
{% endschema %}